<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.collavore.app.approvals.mapper.ApprovalsMapper">
	<!-- 템플릿 리스트 -->
	<select id="tempList" resultType="ApprovalstempVO">
		SELECT *
		FROM approvalstemp
		ORDER BY eat_no 
	</select>
	<!-- 템플릿 상세 -->
	<select id="readTemp" resultType="ApprovalstempVO" parameterType="int">
		SELECT *
		FROM approvalstemp
		WHERE eat_no = #{eatNo}
	</select>
	<!-- 템플릿 생성 -->
	<insert id="createApprsTemp" parameterType="ApprovalstempVO">
	  <selectKey keyProperty="eatNo"
	  			 resultType="Integer"
	  			 order="BEFORE">
	  	SELECT NVL(MAX(eat_no),1) + 1
	  	FROM approvalstemp
	  </selectKey>
		INSERT INTO approvalstemp (
									eat_no
								   ,title
								   ,content
								   )
					VALUES         (
									 #{eatNo}
									,#{title}
									,#{content}
									)
	</insert>
	<!-- 템플릿 삭제 -->
	<delete id="deleteTemp" parameterType="int">
	 DELETE approvalstemp
	 WHERE eat_no = #{eatNo}
	</delete>
</mapper>
<!-- 3번째 -->